<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Galactic Warfare: /home/goncalo/VirtualMachines/MINIX-LCOM/shared/proj/src/uart.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Galactic Warfare
   </div>
   <div id="projectbrief">Game developed for the Computer Labs (LCOM) curricular unit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">uart.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="uart_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef UART_H</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#define UART_H</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="i8254_8h.html">i8254.h</a>&quot;</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div><div class="line"><a name="l00011"></a><span class="lineno"><a class="line" href="group__uart.html#ga375648eaff61dbd63ad1b4ffefd87aab">   11</a></span>&#160;<span class="preprocessor">#define SP1_IRQ   4     </span></div><div class="line"><a name="l00012"></a><span class="lineno"><a class="line" href="group__uart.html#ga99de2c34e5e5b2cd9de50bed9f0fcff1">   12</a></span>&#160;<span class="preprocessor">#define SP2_IRQ   3     </span></div><div class="line"><a name="l00014"></a><span class="lineno"><a class="line" href="group__uart.html#gac4c520bfa54fbb20fe3fdc5e7caf251a">   14</a></span>&#160;<span class="preprocessor">#define SP1_BASE_ADDR   0x3F8       </span></div><div class="line"><a name="l00015"></a><span class="lineno"><a class="line" href="group__uart.html#ga8fb1476d5dacb2bbb9d8c4a1caa80171">   15</a></span>&#160;<span class="preprocessor">#define SP2_BASE_ADDR   0x2F8       </span></div><div class="line"><a name="l00017"></a><span class="lineno"><a class="line" href="group__uart.html#ga4f58719cc7f083fe709ffbbacf835bd7">   17</a></span>&#160;<span class="preprocessor">#define SP_RBR    0 </span></div><div class="line"><a name="l00018"></a><span class="lineno"><a class="line" href="group__uart.html#ga385cfad55546917521c2e90bccdb651b">   18</a></span>&#160;<span class="preprocessor">#define SP_THR    0 </span></div><div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="group__uart.html#ga623d8162b2e23ef6797a41c2d8a129d1">   19</a></span>&#160;<span class="preprocessor">#define SP_IER    1 </span></div><div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="group__uart.html#gad3ea134e935f777fdd14568b339fe2bc">   20</a></span>&#160;<span class="preprocessor">#define SP_IIR    2 </span></div><div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="group__uart.html#ga31bbdcb4577d5e6dde9e54c53d2666da">   21</a></span>&#160;<span class="preprocessor">#define SP_FCR    2 </span></div><div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="group__uart.html#gab707060e7691d676d89734ed6a4fd43e">   22</a></span>&#160;<span class="preprocessor">#define SP_LCR    3 </span></div><div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="group__uart.html#ga7e9cf374093346964c1bb69bcca618c4">   23</a></span>&#160;<span class="preprocessor">#define SP_LSR    5 </span></div><div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="group__uart.html#ga7d2d2ebae759c7f5f5416b83e0149caa">   25</a></span>&#160;<span class="preprocessor">#define SP_DLAB_DLL       0           </span></div><div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="group__uart.html#ga88f78cca2a14956cef3c57f0c778f3b4">   26</a></span>&#160;<span class="preprocessor">#define SP_DLAB_DLM       1           </span></div><div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="group__uart.html#ga421982df3311d5ddbef3bc3efbf86e69">   27</a></span>&#160;<span class="preprocessor">#define SP_DL_VALUE(b)    115200/b    </span></div><div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="group__uart.html#gacdabdbec93eeeef009420d7fe1386739">   29</a></span>&#160;<span class="preprocessor">#define SP_IIR_INT      0x0E    </span></div><div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="group__uart.html#gad6886f124841f905cfa17eb148f95f3b">   30</a></span>&#160;<span class="preprocessor">#define SP_IIR_RLS      0x06    </span></div><div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="group__uart.html#ga25ebee3bb0e21c4156ac4ab41d0d0d10">   31</a></span>&#160;<span class="preprocessor">#define SP_IIR_RDR      0x04    </span></div><div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="group__uart.html#gae29b6f3f7613c3fc6312bd9efcdfbde8">   32</a></span>&#160;<span class="preprocessor">#define SP_IIR_CTO      0x0C    </span></div><div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="group__uart.html#ga0fc531f23040c0b2d622408125ab63f0">   33</a></span>&#160;<span class="preprocessor">#define SP_IIR_THR      0x02    </span></div><div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="group__uart.html#gac7050d52efb1f02f82c99da730cd573e">   34</a></span>&#160;<span class="preprocessor">#define SP_IIR_FIFO     0xC0    </span></div><div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="group__uart.html#ga89ffa0986542ad7ea539423da1316b84">   36</a></span>&#160;<span class="preprocessor">#define SP_IER_ENABLE_RDA     BIT(0)        </span></div><div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="group__uart.html#gaac656dd07e9ef63d6a46957ea61e3d20">   37</a></span>&#160;<span class="preprocessor">#define SP_IER_ENABLE_THR     BIT(1)        </span></div><div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="group__uart.html#ga3114dd03229d6fe0386fc4deda66457f">   38</a></span>&#160;<span class="preprocessor">#define SP_IER_ENABLE_RLS     BIT(2)        </span></div><div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="group__uart.html#ga26cd00e554aa6df5ed40d2f48573594d">   39</a></span>&#160;<span class="preprocessor">#define SP_IER_CONFIG        (SP_IER_ENABLE_RDA | SP_IER_ENABLE_RLS) </span></div><div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="group__uart.html#gaba10bd43705c5ae5222b07ba0ae6a8e4">   41</a></span>&#160;<span class="preprocessor">#define SP_LCR_LENGHT_8            (BIT(1) | BIT(0))    </span></div><div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="group__uart.html#gadfe0e2608e4e6f03cbded2e85f54121d">   42</a></span>&#160;<span class="preprocessor">#define SP_LCR_1_STOP_BIT           BIT(2)              </span></div><div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="group__uart.html#gae8fb76b38bcce0aca4a9010b346ed22d">   43</a></span>&#160;<span class="preprocessor">#define SP_LCR_ODD_PARITY           BIT(3)              </span></div><div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="group__uart.html#ga6c13216428e44d7a6a96374381d66228">   44</a></span>&#160;<span class="preprocessor">#define SP_LCR_BREAK_CONTROL        BIT(6)              </span></div><div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="group__uart.html#ga974676616d2ac258a168a00073a33df9">   45</a></span>&#160;<span class="preprocessor">#define SP_LCR_CONFIG              (SP_LCR_LENGHT_8 | SP_LCR_1_STOP_BIT | SP_LCR_ODD_PARITY)</span></div><div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="group__uart.html#gaa15e7cda157ebfdd637c28cdc1c2042e">   46</a></span>&#160;<span class="preprocessor">#define SP_LCR_DLAB                 BIT(7)              </span></div><div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="group__uart.html#ga642ceb2bf8c4ade7d9018e992780e282">   48</a></span>&#160;<span class="preprocessor">#define SP_DATA_LENGHT              8                   </span></div><div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="group__uart.html#ga753d660f292192f2ade8eb64c3fdf725">   49</a></span>&#160;<span class="preprocessor">#define SP_STOP_BITS                1                   </span></div><div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="group__uart.html#ga15eb76b86063529bdb4d8285801f4bd8">   51</a></span>&#160;<span class="preprocessor">#define SP_FCR_ENABLE_FIFO          BIT(0)          </span></div><div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="group__uart.html#ga1ae3dda7bb8c51d666281613e4df779a">   52</a></span>&#160;<span class="preprocessor">#define SP_FCR_CLEAR_RECEIVE        BIT(1)          </span></div><div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="group__uart.html#gabebc0aa52286824d78622822e089e0f4">   53</a></span>&#160;<span class="preprocessor">#define SP_FCR_CLEAR_TRANSMIT       BIT(2)          </span></div><div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="group__uart.html#ga17bc3cfa3307782e6c89684b15f5586d">   54</a></span>&#160;<span class="preprocessor">#define SP_FCR_TRIGGER_4            BIT(6)          </span></div><div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="group__uart.html#ga5777f03caabb9fbececa29bc2bdf5e53">   55</a></span>&#160;<span class="preprocessor">#define SP_FCR_TRIGGER_8            BIT(7)          </span></div><div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="group__uart.html#gadc5304c6591c90b8168a12adde7b89dc">   56</a></span>&#160;<span class="preprocessor">#define SP_FCR_TRIGGER_14           BIT(6) | BIT(7) </span></div><div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="group__uart.html#gaaa4436a3fbfcb11b62acc08174695e4d">   57</a></span>&#160;<span class="preprocessor">#define SP_FCR_CONFIG              (SP_FCR_ENABLE_FIFO | SP_FCR_CLEAR_RECEIVE | SP_FCR_CLEAR_TRANSMIT | SP_FCR_TRIGGER_4) </span></div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="group__uart.html#ga6fc19e0c860466fbc6cff21293420e6c">   59</a></span>&#160;<span class="preprocessor">#define SP_FIFO_SIZE            16      </span></div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="group__uart.html#gaf6405205d97cea6fc7bd0e5d926f65ea">   60</a></span>&#160;<span class="preprocessor">#define SP_FIFO_TRIGGER         4       </span></div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="group__uart.html#ga4311663ea382379a212eef9573eb4512">   62</a></span>&#160;<span class="preprocessor">#define SP_BIT_RATE             19200   </span></div><div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="group__uart.html#ga090813f1403c7ef3248aa79e7fe65e5f">   64</a></span>&#160;<span class="preprocessor">#define SP_INT_PER_TIMER_INT ((SP_BIT_RATE / SP_DATA_LENGHT) / SP_FIFO_TRIGGER) / TIMER0_INTERRUPTS_PER_SECOND </span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor"></span><span class="comment">/* Adjust the Trigger Level with the Bit Rate */</span><span class="preprocessor"></span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">/* Bit Rate Standart Values : 1200, 2400, 4800, 9600, 19200, 38400, 57600, 115200 */</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="group__uart.html#gab65f35cda605ff34b815d19305e037e2">   69</a></span>&#160;<span class="preprocessor">#define SP_LSR_RD               BIT(0)  </span></div><div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="group__uart.html#ga12f82db233fe9c0607be99aed2b50e96">   70</a></span>&#160;<span class="preprocessor">#define SP_LSR_OVERRUN_ERROR    BIT(1)  </span></div><div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="group__uart.html#ga50d954a77518626cfbf1f313266a14f5">   71</a></span>&#160;<span class="preprocessor">#define SP_LSR_PARITY_ERROR     BIT(2)  </span></div><div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="group__uart.html#ga802a6b6477e050f36af8bb4c84fb3134">   72</a></span>&#160;<span class="preprocessor">#define SP_LSR_FRAMING_ERROR    BIT(3)  </span></div><div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="group__uart.html#ga7ac91e555f35c17f3bc9bfc883a29d2a">   73</a></span>&#160;<span class="preprocessor">#define SP_LSR_BREAK_INT        BIT(4)  </span></div><div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="group__uart.html#ga51c5cf165fbe1c5f4c3a3ff0909aab5c">   74</a></span>&#160;<span class="preprocessor">#define SP_LSR_THR_EMPTY        BIT(5)  </span></div><div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="group__uart.html#ga39f2809e0f748d3b19b6e5a4498098b8">   75</a></span>&#160;<span class="preprocessor">#define SP_LSR_TR_EMPTY         BIT(6)  </span></div><div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="group__uart.html#gac2c3c8e3d6dcb691701eb843ab8238f6">   76</a></span>&#160;<span class="preprocessor">#define SP_LSR_FIFO_ERROR       BIT(7)  </span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor"></span><span class="comment">/* Bits 0-4 and 7 are reset to 0 when LSR is read */</span><span class="preprocessor"></span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">/* Utility Characters */</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="group__uart.html#ga22110f587abf75f05f083237daf4ad1b">   81</a></span>&#160;<span class="preprocessor">#define SP_RTC_INTERRUPT        &#39;R&#39;     </span></div><div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="group__uart.html#ga3f0e4480b6d2fa57079dda5acd10b3c5">   82</a></span>&#160;<span class="preprocessor">#define SP_GENERATE_BULLET      &#39;B&#39;     </span></div><div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="group__uart.html#ga401abbdded9aac8eb1317ce78464d930">   83</a></span>&#160;<span class="preprocessor">#define SP_ENEMY_PLAYER         &#39;P&#39;     </span></div><div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="group__uart.html#ga8650ce646fafde71df026f12fa2fbd98">   84</a></span>&#160;<span class="preprocessor">#define SP_NEW_SEQUENCE         &#39;N&#39;     </span></div><div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="group__uart.html#ga6bda0320ba24ea4c2c97b1ff0ca68782">   85</a></span>&#160;<span class="preprocessor">#define SP_SEND_SEQUENCE        &#39;S&#39;     </span></div><div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="group__uart.html#gaf15e1e40b07fbf510f85fac50ac31c3e">   86</a></span>&#160;<span class="preprocessor">#define SP_END_SEQUENCE         &#39;E&#39;     </span></div><div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="group__uart.html#ga60977829244ed39e44b847d4242631ef">   88</a></span>&#160;<span class="preprocessor">#define SP_PLAYER_SIZE           9      </span></div><div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="group__uart.html#gae21b9248ed903e3044f35f0008e8de05">   89</a></span>&#160;<span class="preprocessor">#define SP_RTC_SIZE              6      </span></div><div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="group__uart.html#ga9ad10a4ff6bb441e8998ce9c835f5e19">   90</a></span>&#160;<span class="preprocessor">#define SP_BULLET_SIZE           1      </span></div><div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="group__uart.html#gab974de4582db4e5d68ee7a14d7d0ae36">   91</a></span>&#160;<span class="preprocessor">#define SP_SEQUENCE_SIZE         SP_PLAYER_SIZE + SP_RTC_SIZE + SP_BULLET_SIZE + 2  </span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* UART_H */</span><span class="preprocessor"></span></div><div class="ttc" id="i8254_8h_html"><div class="ttname"><a href="i8254_8h.html">i8254.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
